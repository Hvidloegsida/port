---
import MainLayout from "../layouts/MainLayout.astro";
import Box from "../components/Box.astro";
import Skills from "../components/Skills.astro";
import Skillscode from "../components/Skillscode.astro";
import Gallery2 from "../components/Gallery2.astro"
import Text from "../components/Text.astro"
import Section from "../components/Section.astro";
import Box2 from "../components/Box2.astro";
import Collab from "../components/Collab.astro";
---
<MainLayout title="Titel">


<div class=" flex flex-col justify-center items-center gap-y-5 lg:flex-row ">
<Box overskrift="IDA MIKKELSEN", underoverskrift1="DESIGN WITH PURPOSE", underoverskrift2="ART WITH SOUL" />

<article class="flex flex-row">
    <button id="prevSlide" class="text-Blue-500 text-4xl font-bold mx-3">
        &#10094;
      </button>

      <div class="relative w-full flex justify-center">
        <div class="mySlides">
          <Skills />
        </div>

        <div class="mySlides hidden">
          <Skillscode />
        </div>
      </div>
 <!-- Right Arrow -->
 <button id="nextSlide" class="text-Blue-500  text-4xl font-bold mx-3">
    &#10095;
  </button></article>

</div>




<!-- Graphic  -->
<div>
  <div class="flex flex-col justify-center items-center lg:flex-row lg:justify-start">
<Box2 overskrift="Graphics", underoverskrift1="AND ILLUSTRATIONS" />
<button id="toggleButton" class="text-Blue-500 p-2 rounded-md text-4xl -rotate-90 "> &#10094;</button>
</div>
<div id="collapsibleContent" class="content overflow-hidden max-h-0 opacity-0 transition-all duration-500 ease-in-out flex flex-col justify-center items-center lg:flex-row">

  <Gallery2 img1={["/billed1.png"]} img2={["/billed2.png"]} img3={["/billed3.jpg"]}>
  </Gallery2>

  <Text tekst="Lorem ipsum dolor sit amet consectetur adipisicing elit. Officia autem iste doloribus aspernatur debitis non enim ex dignissimos provident rem quod, id sequi natus ad vel hic, voluptatum accusantium quasi!"></Text>
</div>

</div>

<!-- Internship  -->

</MainLayout>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    // SLIDESHOW FUNCTIONALITY
    let slideIndexMain = 0;
    const slidesMain = document.querySelectorAll(".mySlides");

    function showSlidesMain(index) {
        slidesMain.forEach((slide, i) => {
            slide.style.display = i === index ? "block" : "none";
        });
    }

    function changeSlideMain(n) {
        slideIndexMain += n;
        if (slideIndexMain >= slidesMain.length) slideIndexMain = 0;
        if (slideIndexMain < 0) slideIndexMain = slidesMain.length - 1;
        showSlidesMain(slideIndexMain);
    }

    const prevSlide = document.getElementById("prevSlide");
    const nextSlide = document.getElementById("nextSlide");

    if (prevSlide && nextSlide) {
        prevSlide.addEventListener("click", () => changeSlideMain(-1));
        nextSlide.addEventListener("click", () => changeSlideMain(1));
    }

    // COLLAPSIBLE SECTIONS
    function setupCollapsible(buttonId, contentId) {
        const button = document.getElementById(buttonId);
        const content = document.getElementById(contentId);

        if (button && content) {
            button.addEventListener("click", function () {
                if (content.classList.contains("max-h-0")) {
                    content.classList.remove("max-h-0", "opacity-0");
                    content.classList.add("max-h-screen", "opacity-100");
                    button.classList.replace("-rotate-90", "rotate-90");

                    content.scrollIntoView({ behavior: 'smooth', block: 'start' });
                } else {
                    content.classList.add("max-h-0", "opacity-0");
                    content.classList.remove("max-h-screen", "opacity-100");
                    button.classList.replace("rotate-90", "-rotate-90");
                }
            });
        }
    }

    setupCollapsible("toggleButton", "collapsibleContent");
});

</script>